<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>InnerGlow | Home</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { margin:0; font-family:'Segoe UI',sans-serif; display:flex; background:#f0f2f5; }
    .sidebar {
      width:70px; background:linear-gradient(to bottom,#6a11cb,#2575fc); color:white;
      height:100vh; position:fixed; top:0; left:0; padding-top:20px;
      display:flex; flex-direction:column; transition: width 0.3s; overflow:hidden; z-index:1000;
    }
    .sidebar.expanded { width:250px; }
    .sidebar h2 { font-size:1.6rem; text-align:center; margin-bottom:30px; font-weight:bold; opacity:0; transition:opacity 0.3s; }
    .sidebar.expanded h2 { opacity:1; }
    .sidebar a { color:white; text-decoration:none; padding:12px 20px; display:flex; align-items:center; font-weight:500; transition:all 0.3s; }
    .sidebar a i { min-width:25px; font-size:1.2rem; }
    .sidebar.expanded a span.label { display:inline; margin-left:12px; }
    .sidebar a span.label { display:none; }
    .sidebar a:hover { background: rgba(255,255,255,0.2); border-radius:10px; }
    .logout-btn {
      margin-top:auto; background:#e74c3c; color:white; font-weight:bold; text-align:center;
      padding:12px; border-radius:8px; margin:20px; display:flex; align-items:center; justify-content:center;
      cursor:pointer;
    }
    .sidebar.expanded .logout-btn { width:auto; }
    .logout-btn:hover { background:#c0392b; }
    .main-content { margin-left:70px; padding:30px; width:calc(100% - 70px); transition: margin-left 0.3s; }
    .sidebar.expanded ~ .main-content { margin-left:250px; width:calc(100% - 250px); }
    .dashboard-icon { position:fixed; top:20px; left:10px; font-size:1.8rem; color:#fff; cursor:pointer; z-index:1100; transition:left 0.3s, color 0.3s; }
    .sidebar.expanded ~ .dashboard-icon { left:260px; color:#6a11cb; }
    .hero {
      position:relative; background:url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1950&q=80') center/cover no-repeat;
      padding:40px 20px; border-radius:15px; color:white; text-align:center; margin-bottom:30px; overflow:hidden; min-height:250px;
    }
    .hero::after { content:''; position:absolute; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.45); border-radius:15px; }
    .hero h1,.hero p { position:relative; z-index:2; }
    .hero h1 { font-size:2rem; font-weight:700; }
    .hero p { font-size:1rem; margin-top:10px; }
    .feature-card {
      border-radius:15px; background-color:#fff; padding:25px; text-align:center;
      box-shadow:0 5px 20px rgba(0,0,0,0.05); transition:transform 0.3s, box-shadow 0.3s;
      min-height:200px; cursor:pointer;
    }
    .feature-card:hover { transform:translateY(-8px); box-shadow:0 12px 25px rgba(0,0,0,0.12); }
    .feature-card i { font-size:2.2rem; color:#6a11cb; margin-bottom:12px; }
    .feature-card h4 { margin-bottom:10px; font-weight:600; }
    .feature-card p { color:#555; font-size:0.95rem; }
    #authButtons { margin-bottom:30px; }
    #authButtons a { margin:5px; border-radius:10px; padding:10px 20px; font-weight:500; }
  </style>
</head>
<body>

  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <h2>InnerGlow</h2>
    <a href="index.html"><i class="fas fa-home"></i> <span class="label">Home</span></a>
    <a href="about_me.html"><i class="fas fa-user"></i> <span class="label">About Me</span></a>
    <a href="screening.html"><i class="fas fa-file-medical-alt"></i> <span class="label">Screening</span></a>
    <a href="tracking.html"><i class="fas fa-chart-line"></i> <span class="label">Track Progress</span></a>
    <a href="chat.html"><i class="fas fa-comments"></i> <span class="label">Chat</span></a>
    <a href="appointments.html"><i class="fas fa-calendar-check"></i> <span class="label">Appointments</span></a>
    <a href="resources.html"><i class="fas fa-book"></i> <span class="label">Resources</span></a>
    <a href="peer_support.html"><i class="fas fa-users"></i> <span class="label">Peer Support</span></a>
    <div class="logout-btn" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> <span class="label">Logout</span></div>
  </div>

  <i class="fas fa-bars dashboard-icon" id="dashboardToggle"></i>

  <div class="main-content">

    <div id="authButtons" class="text-end">
      <a href="login.html" class="btn btn-primary">Login</a>
      <a href="register.html" class="btn btn-success">Register</a>
    </div>

    <section class="hero">
      <h1>Welcome to InnerGlow</h1>
      <p>Your mental wellness companion</p>
    </section>

    <section class="container-fluid">
      <div class="row g-4 text-center">
        <div class="col-md-4">
          <div class="feature-card" data-link="about_me.html">
            <i class="fas fa-user"></i>
            <h4>About Me</h4>
            <p>Manage your personal profile and preferences.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feature-card" data-link="screening.html">
            <i class="fas fa-file-medical-alt"></i>
            <h4>Screening</h4>
            <p>Take assessments to track your wellness.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feature-card" data-link="tracking.html">
            <i class="fas fa-chart-line"></i>
            <h4>Track Progress</h4>
            <p>Monitor your progress over time.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feature-card" data-link="chat.html">
            <i class="fas fa-comments"></i>
            <h4>Chat</h4>
            <p>Chat with mentors and peers.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feature-card" data-link="appointments.html">
            <i class="fas fa-calendar-check"></i>
            <h4>Appointments</h4>
            <p>Book and manage your sessions.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feature-card" data-link="resources.html">
            <i class="fas fa-book"></i>
            <h4>Resources</h4>
            <p>Access helpful guides and materials.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feature-card" data-link="peer_support.html">
            <i class="fas fa-users"></i>
            <h4>Peer Support</h4>
            <p>Connect with your peer community.</p>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const sidebar = document.getElementById("sidebar");
    const toggle = document.getElementById("dashboardToggle");
    toggle.addEventListener("click", () => { sidebar.classList.toggle("expanded"); });

    const user = JSON.parse(localStorage.getItem("user"));
    const authButtons = document.getElementById("authButtons");
    const logoutBtn = document.getElementById("logoutBtn");

    if(user){
      authButtons.style.display = "none";
      logoutBtn.style.display = "flex";
    } else {
      logoutBtn.style.display = "none";
    }

    logoutBtn.addEventListener("click", () => {
      localStorage.removeItem("user");
      location.reload();
    });

    const cards = document.querySelectorAll(".feature-card");
    cards.forEach(card => {
      card.addEventListener("click", () => {
        if(!user){
          window.location.href = "login.html";
        }else{
          window.location.href = card.dataset.link;
        }
      });
    });
  </script>
</body>
</html>
